---
outline: deep
---

# `0.12.0`

2024/4/20ï¼Œ`0.12.0` ç»ˆäºå‘å¸ƒäº†ï¼Œå†æ—¶ 8 ä¸ªæœˆï¼Œæœ‰ 268 ä½è´¡çŒ®è€…ï¼Œä¸€å…±è¿›è¡Œäº† 3688 æ¬¡æäº¤ï¼

> è¿‡å»çš„å‘è¡Œè¯´æ˜éƒ½å¼‚å¸¸çš„é•¿ï¼Œå› ä¸ºè¯•å›¾è®°å½•æ‰€æœ‰åœ¨å¼€å‘å‘¨æœŸä¸­æ‰€æœ‰çš„å˜åŒ–ï¼Œæœ¬æ¬¡æ›´æ–°åˆ™è¿›è¡Œäº†é€‚å½“åœ°åˆ å‡ï¼Œä¾¿äºè¯»è€…å’Œç»´æŠ¤è€…é˜…è¯»ï¼

::: info

æ³¨æ„ï¼š å­˜åœ¨ä¸€éƒ¨åˆ†å˜åŠ¨å¹¶æœªåœ¨æœ¬æ¬¡çš„å‘è¡Œè¯´æ˜ä¸­æåŠï¼Œå…¶ä¸­åŒ…æ‹¬ API çš„ `Break Change`ã€‚

:::

::: warning

æœ‰å…³äºå„å¹³å°å’Œæ¶æ„çš„æ”¯æŒæƒ…å†µï¼Œæœ¬æ¬¡æ›´æ–°å¹¶æœªè¿›è¡Œæ›´æ”¹ï¼Œæ•…åœ¨æ­¤å¤„ä¸å†æåŠï¼

:::


## API å˜æ›´

å¯ä»¥å‚è€ƒï¼š[0.12.0 å‡çº§æŒ‡å—](/update/upgrade-0.12.0)

## Autodoc é‡æ„

ç›®å‰æˆ‘ä»¬å·²ç»å¯ä»¥ä½¿ç”¨å…¨æ–°çš„ `Autodoc`ï¼Œæ–°çš„å®ç°å¸¦æ¥äº†æ›´æ£’çš„æ–‡æ¡£é˜…è¯»ä½“éªŒï¼

### æ—§çš„å®ç°

æ–‡ä»¶ç»“æ„ä¸ºï¼š

```sh
   5987 src/Autodoc.zig
   435 src/autodoc/render_source.zig
 10270 lib/docs/commonmark.js
  1245 lib/docs/index.html
  5242 lib/docs/main.js
  2146 lib/docs/ziglexer.js
 25325 total
```

ç¼–è¯‘äº§ç‰©ç»“æ„ï¼ˆæ¼”ç¤ºä½¿ç”¨çš„æ ‡å‡†åº“æ–‡æ¡£ï¼‰ä¸ºï¼š

```sh
272K commonmark.js
3.8M data-astNodes.js
360K data-calls.js
767K data-comptimeExprs.js
2.2M data-decls.js
896K data-exprs.js
 13K data-files.js
  45 data-guideSections.js
 129 data-modules.js
  15 data-rootMod.js
 294 data-typeKinds.js
3.2M data-types.js
 38K index.html
158K main.js
 36M src/ (470 .zig.html files)
 78K ziglexer.js
```

æ€»è¾“å‡ºå¤§å°ä¸º **47M**ï¼Œç»è¿‡gzipå¤„ç†åä¸º **5.7M**ï¼

- `src/Autodoc.zig` ç”¨äºå¤„ç† ZIR ä»£ç ï¼ˆzig ç¼–è¯‘æ—¶äº§ç”Ÿçš„ä¸­é—´ä»£ç ï¼‰ï¼Œè¾“å‡º json ä»¥ä¾¿ js ä½¿ç”¨ï¼Œè¿™å°±å¯¼è‡´å¾ˆå¤šä»£ç æ— æ³•é€šè¿‡æŸäº›æ•°æ®ï¼ˆè¿™äº›æ•°æ®å¾ˆå¯èƒ½æ˜¯æ— æ•ˆçš„ï¼‰ï¼Œé‡å»º AST è¯­æ³•æ ‘

- `lib/docs/commonmark.js` æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„ markdown å®ç°ï¼Œä½†å®ƒçš„ç‰¹æ€§æœ‰ç‚¹å¤ªå¤šäº†ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬å¹¶ä¸å¸Œæœ›åœ¨æ–‡æ¡£æ³¨é‡Šä¸­ä½¿ç”¨HTMLæ ‡ç­¾ï¼Œå› ä¸ºè¿™æ ·ä¼šè®©æºä»£ç çš„æ³¨é‡Šæ— æ¯”ä¸‘é™‹ï¼Œåº”å½“åªæ¸²æŸ“æºä»£ç å’Œ markdownã€‚

- `lib/docs/ziglexer.js` æ˜¯ js ä¸­é’ˆå¯¹ zig çš„è¯­ä¹‰æ ‡è®°å®ç°ã€‚äº‹å®ä¸Šï¼Œzig å·²ç»åœ¨æ ‡å‡†åº“ä¸­å…¬å¼€äº†ç”± zig å®ç°çš„è¯­ä¹‰æ ‡è®°ã€‚æœ‰è¶£çš„æ˜¯ï¼Œ**andrewrk** çœ‹åˆ°è¿™ä¸ªä¸œè¥¿è¢«æ·»åŠ è¿›æ¥çš„æ—¶å€™åº”è¯¥ä¸¤çœ¼ä¸€é»‘ï¼Œå…·ä½“å¯ä»¥è§ [Issue 16306](https://github.com/ziglang/zig/pull/16306) [Issue 16490](https://github.com/ziglang/zig/issues/16490) ã€‚

- `src/autodoc/render_source.zig` æ˜¯ä¸€ç§å°† `.zig` æ–‡ä»¶è½¬æ¢ä¸ºå¸¦æœ‰è¯­æ³•é«˜äº®ä½†ä¸æ˜¯äº¤äº’å¼çš„ `.zig.html` æ–‡ä»¶ã€‚

### æ–°çš„å®ç°

æ–‡ä»¶ç»“æ„ä¸ºï¼š

```sh
   942 lib/docs/main.js
   403 lib/docs/index.html
   933 lib/docs/wasm/markdown.zig
   226 lib/docs/wasm/Decl.zig
  1500 lib/docs/wasm/markdown/Parser.zig
   254 lib/docs/wasm/markdown/renderer.zig
   192 lib/docs/wasm/markdown/Document.zig
   941 lib/docs/wasm/main.zig
  1038 lib/docs/wasm/Walk.zig
  6630 total
```

ç¼–è¯‘äº§ç‰©ç»“æ„ï¼ˆæ¼”ç¤ºä½¿ç”¨çš„æ ‡å‡†åº“æ–‡æ¡£ï¼‰ä¸ºï¼š

```sh
 12K index.html
 32K main.js
192K main.wasm
 12M sources.tar
```

æ€»è¾“å‡ºå¤§å°ä¸º: **12M**ï¼Œç»è¿‡gzipå¤„ç†åä¸º **2.3M**ï¼

å¯ä»¥çœ‹åˆ°ï¼Œæ–°çš„å®ç°çš„ä»£ç å’Œäº§ç‰©éƒ½å¾ˆç®€æ´ï¼Œäº§ç‰©åˆšåˆšå¥½åªæœ‰ 4 ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”æ–‡ä»¶å¤§å°ç›´æ¥ç¼©å‡åˆ°äº† **1/4** ã€‚

æ–°çš„å®ç°ä¸ä»…ä»…æ˜¯è¡¨é¢çœ‹ä¸Šå»æ›´ç®€å•ï¼Œå®é™…ä¸Šå®ƒè¾ƒä¹‹æ—§å®ç°æ›´åŠ çš„å¼ºå¤§ï¼Œå› ä¸ºæ–°çš„å®ç°å¹¶ä¸ä¼šå¤„ç† ZIRï¼Œè€Œæ˜¯ç›´æ¥è¯»å–è§£ææºä»£ç æ–‡ä»¶ï¼ˆ`sources.tar` å°±æ˜¯æ‰“åŒ…çš„æºä»£ç ï¼‰ï¼Œè¿™æ„å‘³ç€å®ƒæ‹¥æœ‰å®Œæ•´çš„æºä»£ç ä¿¡æ¯ï¼Œä¸éœ€è¦è¿›è¡Œä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„æ¨æ–­ã€‚

æ­¤æ–¹æ¡ˆæ˜¯ä½¿ç”¨ zig ç¼–å†™çš„ WebAssembly æ¨¡å—ï¼Œè¿™å…è®¸å…¶é‡ç”¨ç¼–è¯‘å™¨ä¸­çš„ç»„ä»¶ï¼Œä¾‹å¦‚åˆ†è¯å™¨ï¼Œè§£æå™¨å’Œå…¶ä»–ç”¨äºå¯¹ zig ä»£ç è¿›è¡Œæ“ä½œçš„ä¸€äº›ç¨‹åºã€‚

é€šè¿‡ HTTP è¯·æ±‚`sources.tar` æ–‡ä»¶å¹¶è§£å‹åï¼Œä¼šå°†å…¶ç›´æ¥é€å…¥ Wasm æ¨¡å—çš„å†…å­˜ä¸­ï¼Œé’ˆå¯¹ tar æ–‡ä»¶ä½¿ç”¨ `std.tar` è¿›è¡Œè§£æï¼Œæºä»£ç å°±åœ°è¿›è¡Œè§£æï¼Œå¹¶é¢å¤–è¿›è¡Œä¸€äº›è®¡ç®—æ·»åŠ  hash è¡¨ã€‚

é’ˆå¯¹ç›®å‰çš„å®ç°ï¼Œä¼˜åŒ–ç©ºé—´å¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹æ¥åŠ é€Ÿè§£æï¼Œä½†ç›®å‰æ¥çœ‹å•çº¿ç¨‹å·²ç»è¶³å¤Ÿå¿«äº†ï¼Œä¼¼ä¹æ²¡æœ‰å¿…è¦ã€‚

### æºå¸¦æ ‡å‡†åº“æ–‡æ¡£

åœ¨ zig çš„ `0.11.0` ä¸­ï¼Œzig å‘è¡Œæ—¶ä¼šå¸¦æœ‰ä¸€ä¸ª `docs/std/` ç›®å½•ï¼Œå…¶ä¸­åŒ…å«ç€æ—§autodoc å®ç°æ„å»ºäº§ç‰©ï¼ˆè¶³è¶³ 47M å¤§å°ï¼‰ã€‚

åœ¨æœ¬æ¬¡é‡å†™ä¸­ï¼Œç›´æ¥åˆ é™¤è¿™äº›æ„å»ºäº§ç‰©ï¼Œä½œä¸ºä»£æ›¿ï¼Œæä¾›äº† `zig std` å‘½ä»¤ï¼Œè¿™å…è®¸ä½¿ç”¨è‡ªå¸¦çš„ autodoc ç”Ÿæˆå™¨æ¥æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨çª—å£æŸ¥çœ‹æ–‡æ¡£è¯´æ˜ï¼Œé¦–æ¬¡ä½¿ç”¨æ­¤å‘½ä»¤æ—¶ï¼Œä¼šå…ˆæ‰§è¡Œä¸€æ¬¡é’ˆå¯¹ `lib/compiler/std-docs.zig` çš„ç¼–è¯‘æ“ä½œã€‚

HTTP æœåŠ¡å™¨ä¼šåŠ¨æ€åˆ›å»ºè¯·æ±‚çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬ main.wasm é‡å»ºï¼ˆå¦‚æœä»»ä½•æºæ–‡ä»¶å‘ç”Ÿæ›´æ”¹ï¼‰å’Œæ„é€  sources.tar ï¼Œè¿™æ„å‘³ç€åœ¨æŸ¥çœ‹æ–‡æ¡£æ—¶ï¼Œå¯¹æ–‡æ¡£æ–‡ä»¶æˆ– autodoc ç³»ç»Ÿæœ¬èº«çš„ä»»ä½•æºæ›´æ”¹éƒ½ä¼šç«‹å³åæ˜ å‡ºæ¥ã€‚åœ¨ URL å‰é¢åŠ ä¸Š /debug URL ä¼šä½¿ç”¨ WebAssembly æ¨¡å—çš„è°ƒè¯•ç‰ˆæœ¬ã€‚

è¿™æ„å‘³ç€è´¡çŒ®è€…å¯ä»¥é€šè¿‡åœ¨æµè§ˆå™¨çª—å£ä¸­æŒ‰åˆ·æ–°æ¥æµ‹è¯•å¯¹ Zig æ ‡å‡†åº“æ–‡æ¡£ä»¥åŠ autodocs åŠŸèƒ½çš„æ›´æ”¹ï¼Œåªéœ€è¦ Zig çš„äºŒè¿›åˆ¶å‘è¡Œç‰ˆã€‚

æ€»ä¹‹ï¼Œè¿™ä½¿çš„zigçš„å®‰è£…å¤§å°ä» 317M å‡å°‘åˆ°äº† 268M ï¼ˆ-15%ï¼‰ã€‚

ç¼–è¯‘å™¨çš„ ReleaseSmall ç‰ˆæœ¬ä» 10M ç¼©å°åˆ° 9.8M ï¼ˆ-1%ï¼‰ã€‚

### æ„å»ºæ–‡æ¡£æ—¶é—´

Autodocs ç”Ÿæˆç°åœ¨ä½œä¸ºç¼–è¯‘å™¨ pipeline çš„ä¸€éƒ¨åˆ†å®Œæˆï¼Œè€Œä¸æ˜¯åœ¨æœ€åæ·»åŠ ã€‚å®ƒä¹Ÿä¸å†ä¾èµ–äº pipeline çš„å…¶ä»–éƒ¨åˆ†ã€‚

ä»¥ä¸‹æ˜¯æ„å»ºæ ‡å‡†åº“æ–‡æ¡£æ‰€éœ€è¦çš„æ—¶é—´ï¼š

```sh
Benchmark 1 (3 runs): old/zig test /home/andy/dev/zig/lib/std/std.zig -fno-emit-bin -femit-docs=docs
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          13.3s  Â±  405ms    12.8s  â€¦ 13.6s           0 ( 0%)        0%
  peak_rss           1.08GB Â±  463KB    1.08GB â€¦ 1.08GB          0 ( 0%)        0%
  cpu_cycles         54.8G  Â±  878M     54.3G  â€¦ 55.8G           0 ( 0%)        0%
  instructions        106G  Â±  313K      106G  â€¦  106G           0 ( 0%)        0%
  cache_references   2.11G  Â± 35.4M     2.07G  â€¦ 2.14G           0 ( 0%)        0%
  cache_misses       41.3M  Â±  455K     40.8M  â€¦ 41.7M           0 ( 0%)        0%
  branch_misses       116M  Â± 67.8K      116M  â€¦  116M           0 ( 0%)        0%
Benchmark 2 (197 runs): new/zig build-obj -fno-emit-bin -femit-docs=docs ../lib/std/std.zig
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          24.6ms Â± 1.03ms    22.8ms â€¦ 28.3ms          4 ( 2%)        âš¡- 99.8% Â±  0.3%
  peak_rss           87.3MB Â± 60.6KB    87.2MB â€¦ 87.4MB          0 ( 0%)        âš¡- 91.9% Â±  0.0%
  cpu_cycles         38.4M  Â±  903K     37.4M  â€¦ 46.1M          13 ( 7%)        âš¡- 99.9% Â±  0.2%
  instructions       39.7M  Â± 12.4K     39.7M  â€¦ 39.8M           0 ( 0%)        âš¡-100.0% Â±  0.0%
  cache_references   2.65M  Â± 89.1K     2.54M  â€¦ 3.43M           3 ( 2%)        âš¡- 99.9% Â±  0.2%
  cache_misses        197K  Â± 5.71K      186K  â€¦  209K           0 ( 0%)        âš¡- 99.5% Â±  0.1%
  branch_misses       184K  Â± 1.97K      178K  â€¦  190K           6 ( 3%)        âš¡- 99.8% Â±  0.0%
```

è¿‡å»éœ€è¦ 13 ç§’ä»¥ä¸Šï¼Œè€Œç°åœ¨åªéœ€è¦ 25 æ¯«ç§’ã€‚

### Autodoc æ–°ç‰¹æ€§

- æ›´åŠ å¯é çš„é“¾æ¥ï¼šç”±äºæ‹¥æœ‰å®Œæ•´çš„æºä»£ç ï¼Œæ•…æˆ‘ä»¬æ‹¥æœ‰æ‰€æœ‰å…ƒä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥ç¼–å†™æ›´å¼ºå¤§çš„ä»£ç æ¥ä»å®ƒä»¬å‡ºç°çš„ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾æ ‡è¯†ç¬¦ã€‚

- äº¤äº’å¼æºåˆ—è¡¨ï¼šåªè¦æŒ‰ä¸‹ **u**ï¼Œä½ å¯ä»¥ç«‹åˆ»æŸ¥çœ‹å½“å‰å£°æ˜æˆ–è€…å®šä¹‰çš„æºä»£ç ï¼ˆé€šè¿‡æ›´æ”¹ location å“ˆå¸Œå®ç°ï¼‰ï¼

- æ›´åŠ æ¸…æ™°çš„åˆ—è¡¨

- æœç´¢æ”¯æŒæ³¨é‡Š

- æ›´åŠ å‹å¥½çš„é”™è¯¯é›†åˆå±•ç¤ºï¼ˆæ”¯æŒé€šè¿‡å…¶ä»–çš„å£°æ˜è¿›è¡Œè·³è½¬ï¼‰

- å‡½æ•°è¯´æ˜ä¹Ÿä¼šå±•ç¤ºé”™è¯¯ç±»å‹è¯´æ˜

- æ­£ç¡®çš„ç±»å‹æ£€æµ‹ï¼ˆæ—§å®ç°å¯èƒ½ä¼šçŒœé”™ï¼‰

- æµè§ˆå†å²çš„æ­£ç¡®è®°å½•ï¼ˆä¾èµ–äº `popstate` äº‹ä»¶ å’Œå†å²è®°å½• apiï¼‰

::: info

æ›´åŠ å…¨é¢çš„ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹ [commit diff](https://github.com/andrewrk/autodoc/commit/6d96a63430b39c8a08158410b25dd0ecafea28db)ã€‚

:::

## ç¼–è¯‘å™¨

### x86 åç«¯

x86 åç«¯ç°åœ¨é€šè¿‡äº†è¡Œä¸ºæµ‹è¯•å¥—ä»¶çš„ 1765/1828ï¼ˆ97%ï¼‰ï¼Œä¸ LLVM åç«¯ç›¸æ¯”ã€‚ç”±äºå®ƒæä¾›äº†æ˜¾è‘—æ›´å¿«çš„ç¼–è¯‘é€Ÿåº¦ï¼Œæ‰€ä»¥åœ¨å¼€å‘è¿‡ç¨‹ä¸­æœ‰æ—¶ä¼šå‘ç°å®ƒå¾ˆæœ‰ç”¨ï¼š

```sh
Benchmark 1 (8 runs): zig-0.12.0 build-exe hello.zig
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time           667ms Â± 26.7ms     643ms â€¦  729ms          1 (13%)        0%
  peak_rss            175MB Â± 19.3MB     168MB â€¦  223MB          1 (13%)        0%
  cpu_cycles         3.42G  Â±  532M     3.21G  â€¦ 4.74G           1 (13%)        0%
  instructions       6.20G  Â± 1.05G     5.83G  â€¦ 8.79G           1 (13%)        0%
  cache_references    241M  Â± 19.9M      234M  â€¦  291M           1 (13%)        0%
  cache_misses       48.3M  Â± 1.26M     47.7M  â€¦ 51.4M           1 (13%)        0%
  branch_misses      35.3M  Â± 4.07M     33.7M  â€¦ 45.4M           1 (13%)        0%
Benchmark 2 (26 runs): zig-0.12.0 build-exe hello.zig -fno-llvm -fno-lld
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time           196ms Â± 5.77ms     187ms â€¦  208ms          0 ( 0%)        âš¡- 70.6% Â±  1.7%
  peak_rss           88.7MB Â±  721KB    87.8MB â€¦ 90.4MB          2 ( 8%)        âš¡- 49.3% Â±  4.3%
  cpu_cycles          842M  Â± 6.01M      836M  â€¦  866M           1 ( 4%)        âš¡- 75.4% Â±  6.0%
  instructions       1.60G  Â± 9.62K     1.60G  â€¦ 1.60G           0 ( 0%)        âš¡- 74.1% Â±  6.5%
  cache_references   56.6M  Â±  378K     56.0M  â€¦ 57.3M           0 ( 0%)        âš¡- 76.6% Â±  3.2%
  cache_misses       8.43M  Â±  104K     8.30M  â€¦ 8.79M           2 ( 8%)        âš¡- 82.5% Â±  1.0%
  branch_misses      7.20M  Â± 30.2K     7.15M  â€¦ 7.28M           2 ( 8%)        âš¡- 79.6% Â±  4.4%
```

å½“ä¸º `x86_64` ç›®æ ‡ç¼–è¯‘æ—¶ï¼Œå¯ä»¥é€šè¿‡ä¼ é€’ CLI é€‰é¡¹ `-fno-llvm -fno-lld`ï¼Œæˆ–è€…åœ¨ `std.Build.Step.Compile` ä¸Šè®¾ç½®æ„å»ºç³»ç»Ÿæ ‡å¿— `use_llvm` å’Œ `use_lld` ä¸º `false` æ¥è®¿é—®è¿™ä¸ªåç«¯ã€‚è¿™ä¸ªåç«¯ç°åœ¨èƒ½å¤Ÿç¼–è¯‘è®¸å¤šZigé¡¹ç›®ï¼ŒåŒ…æ‹¬ç¼–è¯‘å™¨æœ¬èº«ã€‚

ç›´åˆ°ä½¿ç”¨å®ƒä½œä¸ºé»˜è®¤åç«¯å‰çš„ä»»åŠ¡ï¼š

- 100% è¡Œä¸ºæµ‹è¯•é€šè¿‡
- æ”¹è¿›è°ƒè¯•ä¿¡æ¯
- æé«˜è¿è¡Œæ—¶æ€§èƒ½

## Windows èµ„æº

Zig ç°åœ¨æ”¯æŒç¼–è¯‘ï¼ˆå’Œäº¤å‰ç¼–è¯‘ï¼‰Windowsèµ„æºè„šæœ¬ï¼ˆ`.rc`æ–‡ä»¶ï¼‰å’Œ `.manifest` æ–‡ä»¶ï¼Œå¹¶å°†ç»“æœ`.res` æ–‡ä»¶é“¾æ¥åˆ° PE/COFF äºŒè¿›åˆ¶æ–‡ä»¶çš„èµ„æºè¡¨ä¸­ã€‚

- [Add a .rc -> .res compiler to the Zig compiler](https://github.com/ziglang/zig/pull/17069)
- [Add zig rc subcommand, a (cross-platform) drop-in replacement for rc.exe](https://github.com/ziglang/zig/pull/17412)
- [Add preliminary support for Windows .manifest files](https://github.com/ziglang/zig/pull/17448)

æŸ¥çœ‹ [Zig is now also a Windows resource compiler](https://github.com/ziglang/zig/pull/17412)ï¼Œäº†è§£è¿™ä¸ªåŠŸèƒ½çš„ä¸€äº›ç”¨ä¾‹å’Œä½¿ç”¨ç»†èŠ‚ã€‚

## é“¾æ¥å™¨

Zig ç°åœ¨æ”¯æŒ x86_64ã€aarch64 çš„ ELF é“¾æ¥ï¼Œå¹¶éƒ¨åˆ†æ”¯æŒ riscv64ã€‚å¯¹ LLD çš„ä¾èµ–é¢„è®¡å°†åœ¨ä¸‹ä¸€ä¸ªå‘å¸ƒå‘¨æœŸä¸­è¢«åˆ é™¤ã€‚å¯ä»¥ä½¿ç”¨ `-fno-lld` æ ‡å¿—æ¥ä½¿ç”¨å½“å‰ä¸æ˜¯é»˜è®¤çš„ Zig é“¾æ¥å™¨ã€‚

## ç¼“å­˜ç³»ç»Ÿ

è¿™ä¸ªç›¸å½“çƒ¦äººçš„é”™è¯¯ç°åœ¨å·²ç»ä¿®å¤äº†ï¼š[error: StreamTooLong when recompiling; duplicate source files in cache manifest](https://github.com/ziglang/zig/issues/16149)ã€‚

ä¿®å¤æ–¹æ³•æ˜¯å¯¹ç¼“å­˜æ¸…å•ä¸­åˆ—å‡ºçš„æ–‡ä»¶è¿›è¡Œå»é‡ï¼Œè¿™ä½¿å¾—ç¼“å­˜å‘½ä¸­é€Ÿåº¦æ˜¾è‘—æé«˜ã€‚æ•°æ®ç‚¹ï¼šä½¿ç”¨é™æ€ musl libc æ„å»º hello world ç¼“å­˜å‘½ä¸­

```sh
Benchmark 1 (61 runs): master/zig build-exe hello.c -target native-native-musl -lc
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          81.4ms Â± 1.76ms    77.7ms â€¦ 87.1ms          1 ( 2%)        0%
  peak_rss           64.6MB Â± 77.7KB    64.4MB â€¦ 64.7MB          0 ( 0%)        0%
  cpu_cycles         97.2M  Â± 1.04M     95.1M  â€¦  101M           1 ( 2%)        0%
  instructions        153M  Â± 11.1K      152M  â€¦  153M           0 ( 0%)        0%
  cache_references   2.21M  Â± 97.1K     2.05M  â€¦ 2.54M           2 ( 3%)        0%
  cache_misses        529K  Â± 24.4K      486K  â€¦  600K           4 ( 7%)        0%
  branch_misses       409K  Â± 6.45K      397K  â€¦  437K           1 ( 2%)        0%
Benchmark 2 (189 runs): cache-dedup/zig build-exe hello.c -target native-native-musl -lc
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          25.8ms Â± 1.26ms    23.9ms â€¦ 30.7ms         11 ( 6%)        âš¡- 68.4% Â±  0.5%
  peak_rss           65.2MB Â± 61.8KB    65.1MB â€¦ 65.4MB          2 ( 1%)        ğŸ’©+  1.0% Â±  0.0%
  cpu_cycles         41.2M  Â±  608K     40.1M  â€¦ 46.3M           4 ( 2%)        âš¡- 57.6% Â±  0.2%
  instructions       64.3M  Â± 12.6K     64.3M  â€¦ 64.4M           2 ( 1%)        âš¡- 57.8% Â±  0.0%
  cache_references   1.28M  Â± 34.5K     1.21M  â€¦ 1.35M           0 ( 0%)        âš¡- 41.9% Â±  0.7%
  cache_misses        348K  Â± 18.6K      297K  â€¦  396K           0 ( 0%)        âš¡- 34.2% Â±  1.1%
  branch_misses       199K  Â± 1.34K      197K  â€¦  206K           6 ( 3%)        âš¡- 51.2% Â±  0.2%
```

## Bug ä¿®å¤

[æœ¬æ¬¡å‘å¸ƒå‘¨æœŸä¸€å…±ä¿®å¤äº† 502 ä¸ª bug](https://github.com/ziglang/zig/issues?q=is%3Aclosed+is%3Aissue+label%3Abug+milestone%3A0.12.0)ã€‚

## Comptime æŒ‡é’ˆè®¿é—®

Zig åœ¨ç¼–è¯‘æœŸè®¿é—®æŒ‡é’ˆæœ‰å‡ ä¸ªé•¿æœŸå­˜åœ¨çš„é”™è¯¯ã€‚å½“è¯•å›¾ä»¥ç‰¹æ®Šçš„æ–¹å¼çš„æ–¹å¼è®¿é—®æŒ‡é’ˆï¼Œä¾‹å¦‚åŠ è½½æ•°ç»„çš„åˆ‡ç‰‡æˆ–é‡æ–°è§£å¼•ç”¨å†…å­˜æ—¶ï¼Œä½ æœ‰æ—¶ä¼šé‡åˆ°ä¸€ä¸ªé”™è¯¯çš„ç¼–è¯‘é”™è¯¯ï¼Œç¼–è¯‘å™¨ä¼šè¦æ±‚ comptime è§£å¼•ç”¨éœ€è¦å…·æœ‰æ˜ç¡®å®šä¹‰çš„å¸ƒå±€çš„ç±»å‹ã€‚

[#19630](https://github.com/ziglang/zig/pull/19630) çš„åˆå¹¶è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚åœ¨ `0.12.0` ä¸­ï¼Œç¼–è¯‘å™¨åœ¨è¿›è¡Œä¸ç¼–è¯‘æœŸå†…å­˜æœ‰å…³çš„å¤æ‚æ“ä½œæ—¶ï¼Œä¸å†æŠ¥å‘Šé”™è¯¯çš„ç¼–è¯‘é”™è¯¯ã€‚è¿™ä¸ªæ”¹å˜ä¹ŸåŒ…æ‹¬å¯¹ç¼–è¯‘æœŸ `@bitCast` é€»è¾‘çš„ä¸€äº›ä¿®å¤ï¼›ç‰¹åˆ«æ˜¯ï¼ŒåŒ…å«æŒ‡é’ˆçš„ä½è½¬æ¢èšåˆä¸å†é”™è¯¯åœ°å¼ºåˆ¶åœ¨è¿è¡Œæ—¶è¿›è¡Œæ“ä½œã€‚

## å½“å‰ç‰ˆæœ¬åŒ…å«çš„ bugs

Zig ç›®å‰å­˜åœ¨ä¸€äº› [å·²çŸ¥çš„ bugs](https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Abug)ï¼Œç”šè‡³åŒ…å«ä¸€äº› [ç¼–è¯‘é”™è¯¯](https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Amiscompilation)ï¼

Zig ç›®å‰ä»ä¸æˆç†Ÿï¼Œå³ä½¿æ˜¯ä½¿ç”¨ `0.12.0` ä¹Ÿå¯èƒ½éœ€è¦å‚ä¸ zig å¼€å‘æ‰èƒ½ä½¿ä¹‹é¡ºåˆ©åœ¨æŸäº›é¡¹ç›®å¼€å‘ä¸Šæ­£å¸¸å·¥ä½œï¼

å½“ Zig è¾¾åˆ° `1.0.0` æ—¶ï¼Œ[ä¸€çº§æ”¯æŒ](https://ziglang.org/download/0.12.0/release-notes.html#Tier-1-Support) å°†è·å¾—ä¸€ä¸ªé¢å¤–çš„é”™è¯¯ç­–ç•¥ä½œä¸ºè¦æ±‚ã€‚

## å·¥å…·é“¾

### LLVM 17

å½“å‰å‘å¸ƒçš„æ–°ç‰ˆæœ¬å·²ç»æ›´æ–°è‡³ LLVM 17.0.6ï¼

Zig ç°åœ¨ç›´æ¥ç”Ÿæˆ LLVM bitcode æ¨¡å—æ–‡ä»¶ï¼Œç„¶åå°†è¿™äº›æ–‡ä»¶ä¼ é€’ç»™ LLVM ã€‚è¿™æ„å‘³ç€ä¸€ä¸ªæ²¡æœ‰ LLVM åº“çš„ Zig ç¼–è¯‘å™¨ä»ç„¶å¯ä»¥ç”Ÿæˆ .bc æ–‡ä»¶ï¼Œç„¶åè¿™äº›æ–‡ä»¶å¯ä»¥ä¼ é€’ç»™ clang è¿›è¡Œç¼–è¯‘ã€‚

### musl 1.2.4

å°½ç®¡musl v1.2.5 ç°åœ¨åœ¨ä¸Šæ¸¸å¯ç”¨ï¼Œä½†è¿™ä¸ªç‰ˆæœ¬çš„ Zig ä»ç„¶æä¾› v1.2.4 ã€‚é¢„è®¡ Zig çš„ä¸‹ä¸€ä¸ªç‰ˆæœ¬å°†ä½¿ç”¨æ–°çš„çš„ muslã€‚

### glibc 2.38

å½“è¿›è¡Œäº¤å‰ç¼–è¯‘æ—¶ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨ glibc ç‰ˆæœ¬ 2.35ã€2.36ã€2.37 å’Œ 2.38ã€‚

### mingw-w64

æ ¹æ® [Martin StorsjÃ¶](https://github.com/sponsors/mstorsjo) çš„å»ºè®®ï¼ŒZig ç°åœ¨è·Ÿè¸ª mingw-w64 çš„æœ€æ–°ä¸»åˆ†æ”¯æäº¤ã€‚

## è·¯çº¿å›¾

0.13.0 å‘å¸ƒå‘¨æœŸçš„ä¸»è¦ä¸»é¢˜å°†æ˜¯ **ç¼–è¯‘é€Ÿåº¦**ã€‚

åœ¨ 0.13.0 å‘å¸ƒå‘¨æœŸä¸­å°½é‡å®ç°ä¸€äº›é‡Œç¨‹ç¢‘ç‰¹æ€§ï¼š

- å°† x86 åç«¯ä½œä¸ºè°ƒè¯•æ¨¡å¼çš„é»˜è®¤åç«¯ã€‚
- é“¾æ¥å™¨æ”¯æŒ COFFï¼Œç§»é™¤å¯¹ LLD çš„ä¾èµ–ã€‚
- å¯ç”¨å¢é‡ç¼–è¯‘ä»¥å¿«é€Ÿé‡å»ºã€‚
- å¼•å…¥å¹¶å‘æ€§åˆ°è¯­ä¹‰åˆ†æä»¥è¿›ä¸€æ­¥æé«˜ç¼–è¯‘é€Ÿåº¦ã€‚

ç›®å‰çš„æ€è·¯æ˜¯ï¼Œä¼˜å…ˆè€ƒè™‘æ›´å¿«çš„ç¼–è¯‘å°†æé«˜ç¼–è¯‘å™¨æœ¬èº«çš„å¼€å‘é€Ÿåº¦ï¼Œä»è€Œåœ¨æ¥ä¸‹æ¥çš„å‘å¸ƒå‘¨æœŸä¸­ä¿®å¤æ›´å¤šçš„é”™è¯¯å¹¶å®Œæˆæ›´å¤šçš„åŠŸèƒ½ã€‚

åŠ å¿«ç¼–è¯‘é€Ÿåº¦ä¹Ÿå¯èƒ½ä¼šå¯¹è¯­è¨€æœ¬èº«åšå‡ºä¸€äº›è°ƒæ•´ã€‚

## `Async/Await` ç‰¹æ€§è¿›åº¦

åœ¨ `0.11.0` ç‰ˆæœ¬å‘å¸ƒåï¼Œå¼‚æ­¥å‡½æ•°è¢«å†»ç»“ã€‚ç”±äºå¤šä¸ªå°šæœªè§£å†³çš„é—®é¢˜ï¼Œå°šä¸çŸ¥æœªæ¥å¦‚ä½•å¤„ç†è¯¥ç‰¹æ€§ï¼š

- LLVM æ— æ³•ä¼˜åŒ–å®ƒä»¬ã€‚
- ç¬¬ä¸‰æ–¹è°ƒè¯•å™¨æ— æ³•è°ƒè¯•å®ƒä»¬ã€‚
- [å–æ¶ˆé—®é¢˜](https://github.com/ziglang/zig/issues/5913)ã€‚
- å¼‚æ­¥å‡½æ•°æŒ‡é’ˆé˜»æ­¢äº†å †æ ˆå¤§å°çš„çŸ¥æ™“ã€‚

è¿™äº›é—®é¢˜æ˜¯å¯ä»¥å…‹æœçš„ï¼Œä½†éœ€è¦æ—¶é—´ï¼ŒZigå›¢é˜Ÿç›®å‰æ­£åœ¨å…³æ³¨å…¶ä»–ä¼˜å…ˆäº‹é¡¹ã€‚

## è´¡çŒ®è€…å’ŒèµåŠ©è€…åå•

è¯·æŸ¥çœ‹å®˜æ–¹çš„[å‘è¡Œè¯´æ˜](https://ziglang.org/download/0.12.0/release-notes.html#toc-Thank-You-Contributors)ï¼
